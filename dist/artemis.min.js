parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vI89":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Debug=exports.DebugLevel=void 0;const e={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4,ALL:5};exports.DebugLevel=e;class t{static level(e){return"number"==typeof e&&(this._level=e),this._level}static log(...t){this.level()>=e.DEBUG&&console.log(...t)}static debug(...t){this.level()>=e.DEBUG&&console.debug(...t)}static info(...t){this.level()>=e.INFO&&console.info(...t)}static error(...t){this.level()>=e.ERROR&&console.error(...t)}static warning(...t){this.level()>=e.WARNING&&console.warn(...t)}static table(...t){this.level()>=e.DEBUG&&console.table(...t)}static group(...t){this.level()>=e.DEBUG&&console.group(...t)}static groupCollapsed(...t){this.level()>=e.DEBUG&&console.groupCollapsed(...t)}static groupEnd(...t){this.level()>=e.DEBUG&&console.groupEnd(...t)}static time(...t){this.level()>=e.DEBUG&&console.time(...t)}static timeLog(...t){this.level()>=e.DEBUG&&console.timeLog(...t)}static timeEnd(...t){this.level()>=e.DEBUG&&console.timeEnd(...t)}static trace(...t){this.level()>=e.DEBUG&&console.trace(...t)}}exports.Debug=t,t._level=e.NONE;
},{}],"W6YR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$_=e,exports.$_ready=o,exports.DOM=void 0;class t{constructor(e){if(null===e)return this.collection=[],void(this.length=0);if("string"==typeof e)this.collection=document.querySelectorAll(e),this.length=this.collection.length,this._selector=e;else if(e instanceof NodeList)this.collection=e,this.length=e.length,this._selector=e;else if(e instanceof t)this.collection=e.collection,this.length=this.collection.length,this._selector=e._selector;else if(e instanceof HTMLElement)this.collection=[e],this.length=this.collection.length,this._selector=e;else{if("object"!=typeof e)return;e.length>=1?this.collection=e:this.collection=[e],this.length=this.collection.length,this._selector=e}}hide(){for(const t of this.collection)t.style.display="none"}show(t="block"){for(const e of this.collection)e.style.display=t}addClass(t){for(const e of this.collection)e.classList.add(t)}removeClass(t=null){if(null!==t)for(const e of this.collection)e.classList.remove(t);else for(const e of this.collection)for(;e.classList.length>0;)e.classList.remove(e.classList.item(0))}toggleClass(t){t=t.split(" ");for(const e of this.collection)for(let o=0;o<t.length;o++)e.classList.toggle(t[o])}hasClass(t){for(const e of this.collection)if(!e.classList.contains(t))return!1;return!0}value(t){if(void 0!==t)for(const e of this.collection)e.value=t;else if(this.length>0)return this.collection[0].value}focus(){this.length>0&&this.collection[0].focus()}click(t){for(const e of this.collection)e.addEventListener("click",t,!1)}keyup(t){for(const e of this.collection)e.addEventListener("keyup",t,!1)}keydown(t){for(const e of this.collection)e.addEventListener("keydown",t,!1)}submit(t){for(const e of this.collection)e.addEventListener("submit",t,!1)}change(t){for(const e of this.collection)e.addEventListener("change",t,!1)}scroll(t){for(const e of this.collection)e.addEventListener("scroll",t,!1)}on(t,o,i){t=t.split(" ");for(const n of this.collection)for(let l=0;l<t.length;l++)"function"==typeof o?n.addEventListener(t[l],o,!1):"string"==typeof o&&"function"==typeof i&&n.addEventListener(t[l],t=>{if(!t.target)return;const n=e(t.target).closestParent(o,this._selector);void 0!==n&&i.call(n.get(0),t)},!1)}filter(e){return this.length>0?new t(this.collection[0].querySelector(e)):new t(null)}exists(){return this.length>0}data(t,e){if(void 0!==e)for(const o of this.collection)o.dataset[t]=e;else if(this.length>0)return this.collection[0].dataset[t]}removeData(t){for(const e of this.collection)delete e.dataset[t]}text(t){if(void 0!==t)for(const e of this.collection)e.textContent=t;else if(this.length>0)return this.collection[0].textContent}html(t){if(void 0!==t)for(const e of this.collection)e.innerHTML=t;else if(this.length>0)return this.collection[0].innerHTML}append(t){if(this.length>0)if("string"==typeof t){const e=document.createElement("div");e.innerHTML="string"==typeof t?t.trim():t,this.collection[0].appendChild(e.firstChild)}else this.collection[0].appendChild(t)}prepend(t){if(this.length>0)if("string"==typeof t){const e=document.createElement("div");e.innerHTML="string"==typeof t?t.trim():t,this.collection[0].childNodes.length>0?this.collection[0].insertBefore(e.firstChild,this.collection[0].childNodes[0]):this.collection[0].appendChild(e.firstChild)}else this.collection[0].childNodes.length>0?this.collection[0].insertBefore(t,this.collection[0].childNodes[0]):this.collection[0].appendChild(t)}each(t){for(const e of this.collection)t(e)}get(t){return this.collection[t]}first(){return this.length>0?new t(this.collection[0]):new t(null)}last(){return this.length>0?new t(this.collection[this.collection.length-1]):new t(null)}isVisible(){for(const t of this.collection)if("none"!=t.display&&t.offsetWidth>0&&t.offsetHeight>0)return!0;return!1}parent(){return this.length>0?new t(this.collection[0].parentElement):new t(null)}find(e){return this.length>0?new t(this.collection[0].querySelectorAll(e)):new t(null)}offset(){if(this.length>0){const t=this.collection[0].getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}}closest(t){let e=null,o=this;for(;void 0!==o&&null===e;){if(!0===o.matches(t))return o;const i=o.find(t);i&&i.length>0&&(e=i),o=o.parent()}return null!==e?e:o}closestParent(t,e){let o=this;for(;void 0!==o;){if(!0===o.matches(t))return o;if("string"==typeof e&&o.matches(e))break;o=o.parent()}}attribute(t,e){if(void 0!==e)for(const o of this.collection)o.setAttribute(t,e);else if(this.length>0)return this.collection[0].getAttribute(t)}hasAttribute(t){for(const e of this.collection)if(!e.hasAttribute(t))return!1;return!0}after(t){for(const e of this.collection)e.insertAdjacentHTML("afterend",t)}before(t){for(const e of this.collection)e.insertAdjacentHTML("beforebegin",t)}style(t,e){for(let o=0;o<this.collection.length;o++)if("string"==typeof t&&"undefined"!==e)this.collection[o].style[t]=e;else{if("string"==typeof t&&"undefined"===e)return this.collection[o].style[t];if("object"==typeof t)for(const e in t)this.collection[o].style[e]=t[e]}}animate(t,e){for(let o=0;o<this.collection.length;o++)for(const i in t){const n=(new Date).getTime(),l=this.collection;let s,c;void 0!==this.collection[o].style[i]?(c=this.collection[o].style[i],s=setInterval(()=>{const r=Math.min(1,((new Date).getTime()-n)/e);l[o].style[i]=c+r*(t[i]-c),1==r&&clearInterval(s)},25),this.collection[o].style[i]=c):void 0!==this.collection[o][i]&&(c=this.collection[o][i],s=setInterval(()=>{const r=Math.min(1,((new Date).getTime()-n)/e);l[o][i]=c+r*(t[i]-c),1==r&&clearInterval(s)},25),this.collection[o][i]=c)}}fadeIn(t=400,e){if(this.length>0){const o=this.collection[0];o.style.opacity=0;let i=+new Date;const n=()=>{o.style.opacity=+o.style.opacity+(new Date-i)/t,i=+new Date,+o.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,16):"function"==typeof e&&e()};n()}}fadeOut(t=400,e){if(this.length>0){let o=+new Date;const i=this.collection[0],n=()=>{i.style.opacity=+i.style.opacity-(new Date-o)/t,o=+new Date,+i.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,16):"function"==typeof e&&e()};n()}}matches(t){const e=Element.prototype,o=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(){return-1!==[].indexOf.call(document.querySelectorAll(t),this)};return this.length>0&&o.call(this.collection[0],t)}remove(){for(const t of this.collection)t.parentNode.removeChild(t)}replaceWith(t){let e=t;if("string"==typeof t){const o=document.createElement("div");o.innerHTML=t,e=o.firstChild}for(const o of this.collection)o.parentElement.replaceChild(e,o)}reset(){for(const t of this.collection)t.reset()}property(t,e){if(void 0!==e)for(const o of this.collection)o[t]=e;else if(this.length>0)return this.collection[0][t]}}function e(e){return void 0!==e?new t(e):t}function o(t){window.addEventListener("load",t)}exports.DOM=t;
},{}],"Z6Um":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Request=void 0;class e{static serialize(e){return Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&")}static get(t,s={},o={}){const n=e.serialize(s);return""!==n&&(t=`${t}?${n}`),fetch(t,o)}static post(t,s,o={}){let n;if(void 0!==o.headers){const t=o.headers["Content-Type"];if(void 0!==t)if("multipart/form-data"==t){n=new FormData;for(const e in s)n.append(e,s[e])}else n="application/json"==t?JSON.stringify(s):e.serialize(s)}else n=e.serialize(s);const r=Object.assign({},{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},o);return void 0!==r.headers&&"multipart/form-data"===r.headers["Content-Type"]&&delete r.headers["Content-Type"],fetch(t,r)}static put(t,s,o={}){return e.post(t,s,Object.assign({},{method:"PUT"},o))}static delete(t,s,o={}){return e.get(t,s,Object.assign({},{method:"DELETE"},o))}static json(t,s={},o={}){return e.get(t,s,o).then(e=>e.json())}static blob(t,s={},o={}){return e.get(t,s,o).then(e=>e.blob())}}exports.Request=e;
},{}],"vs9F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileSystem=void 0;var e=require("./Request");class t{static readRemote(r,s="base64",a={}){return e.Request.blob(r,{},a).then(e=>t.read(e,s))}static read(e,t="text"){return new Promise((r,s)=>{const a=new FileReader;a.onload=(e=>{r(e,e.target.result)}),a.onerror=(e=>{s(e)}),"base64"===t?a.readAsDataURL(e):"buffer"===t?a.readAsArrayBuffer(e):a.readAsText(e,"UTF-8")})}static create(e,t,r="text/plain"){return Promise.resolve(new File([t],e,{type:r}))}static extension(e){return e.split(".").pop()}static isImage(e){return["jpg","jpeg","png","gif","svg","webp","bmp"].indexOf(t.extension(e).toLowerCase())>-1}}exports.FileSystem=t;
},{"./Request":"Z6Um"}],"A0Mx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Form=void 0;var e=require("./DOM");class a{static fill(a,t){for(const s in t){const r=(0,e.$_)(`form[data-form='${a}'] [name='${s}']`).get(0);if(void 0!==r)switch(r.type){case"file":case"file[]":break;default:r.value=t[s]}}}static values(a){const t={};return(0,e.$_)(`form[data-form='${a}'] [name]`).each(e=>{let a;switch(e.type){case"file[]":a=e.files;break;case"file":a=e.files[0];break;default:a=e.value}null!=a&&(t[e.name]=a)}),t}}exports.Form=a;
},{"./DOM":"W6YR"}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"GRRb":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Platform=void 0;class t{static retina(){return window.devicePixelRatio>=2}static portrait(){return 0===window.orientation||180===window.orientation}static landscape(){return 90===window.orientation||-90===window.orientation}static orientation(){return t.portrait()?"portrait":"landscape"}static electron(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>-1)}static cordova(){return!!window.cordova}static desktop(e="Any"){let t=!1;switch(e){case"Windows":t=navigator.platform.includes("Win");break;case"macOS":t=navigator.platform.includes("Mac");break;case"Linux":t=navigator.platform.includes("Linux");break;case"FreeBSD":t=navigator.platform.includes("FreeBSD");break;case"webOS":t=navigator.platform.includes("WebTV");break;case"Any":default:t=navigator.platform.includes("Win")||navigator.platform.includes("Mac")||navigator.platform.includes("Linux")||navigator.platform.includes("FreeBSD")||navigator.platform.includes("WebTV")}return t}static mobile(e="Any"){let t=!1;switch(e){case"Android":t=/Android/i.test(navigator.userAgent);break;case"iOS":t=/iPhone|iPad|iPod/i.test(navigator.userAgent);break;case"Opera":t=/Opera Mini/i.test(navigator.userAgent);break;case"Windows":t=/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent);break;case"BlackBerry":t=/BlackBerry|BB10/i.test(navigator.userAgent);break;case"Any":default:t=/Android|iPhone|iPad|iPod|Windows Phone|IEMobile|WPDesktop|BlackBerry|BB10/i.test(navigator.userAgent)}return t}static serviceWorkers(){return"undefined"!=typeof navigator&&"serviceWorker"in navigator&&location.protocol.indexOf("http")>-1}}exports.Platform=t;
},{"process":"g5IB"}],"JqUE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Preload=void 0;var e=require("./Request");class r{static image(e){return new Promise((r,t)=>{const o=new Image;o.onload=(()=>{r(o)}),o.onerror=(e=>{t(e)}),o.src=e})}static file(r){return e.Request.blob(r)}}exports.Preload=r;
},{"./Request":"Z6Um"}],"zbmM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalStorage=void 0;class e{constructor({name:e="",version:t="",store:s=""}){this.name=e,this.version=t,this.store=s,this.upgrades={},""===this.version?this.numericVersion=0:this.numericVersion=parseInt(t.replace(/\./g,"")),this.id=""!==e&&""!==t&&""!==s?`${this.name}::${this.store}::${this.version}_`:""!==e&&""!==t?`${this.name}::${this.version}_`:""!==e?`${this.name}::_`:""}open(){return"object"!=typeof this.storage||this.storage instanceof Promise?this.storage instanceof Promise?this.storage:(this.storage=new Promise(e=>{let t=[];if(""!==this.version){let e="";""!==this.name&&""!==this.version&&""!==this.store?e=`${this.name}::${this.store}::`:""!==this.name&&""!==this.version&&(e=`${this.name}::`);const s=Object.keys(window.localStorage).filter(t=>0===t.indexOf(e)).map(t=>t.replace(e,"").split("_")[0]).filter(e=>-1===e.indexOf("::")).sort();if(s.length>0){const e=s[0],i=parseInt(e.replace(/\./g,""));if(i<this.numericVersion){const s=Object.keys(this.upgrades).sort(),r=s.findIndex(e=>{const[t]=e.split("::");return parseInt(t)===i});r>-1&&(t=s.slice(r).filter(e=>{const[t,s]=e.split("::");return parseInt(t)<this.numericVersion&&parseInt(s)<=this.numericVersion}));let o=`${this.name}::${e}_`;""!==this.name&&""!==this.version&&""!==this.store?o=`${this.name}::${this.store}::${e}_`:""!==this.name&&""!==this.version&&(o=`${this.name}::${e}_`);const n=Object.keys(window.localStorage).filter(e=>0===e.indexOf(o)).map(e=>e.replace(o,""));for(const e of n){const t=window.localStorage.getItem(`${o}${e}`);window.localStorage.setItem(this.id+e,t),window.localStorage.removeItem(`${o}${e}`)}}}}e({upgrades:t})}).then(({upgrades:e})=>(this.storage=window.localStorage,new Promise(t=>{this._upgrade(e,()=>t(this))}))),this.storage):Promise.resolve(this)}set(e,t){return this.open().then(()=>("object"==typeof t?this.storage.setItem(this.id+e,JSON.stringify(t)):this.storage.setItem(this.id+e,t),Promise.resolve({key:e,value:t})))}update(e,t){return this.get(e).then(s=>("object"==typeof s?("object"==typeof t&&(t=Object.assign({},s,t)),this.storage.setItem(this.id+e,JSON.stringify(t))):this.storage.setItem(this.id+e,t),Promise.resolve({key:e,value:t}))).catch(()=>this.set(e,t))}get(e){return this.open().then(()=>new Promise((t,s)=>{let i=null;i=this.storage.getItem(this.id+e);try{const e=JSON.parse(i);e&&"object"==typeof e&&(i=e)}catch(r){}null!=i?t(i):s()}))}getAll(){return this.keys().then(e=>{const t={},s=[];for(const i of e)s.push(this.get(i).then(e=>{t[i]=e}));return Promise.all(s).then(()=>t)})}contains(e){return this.keys().then(t=>{if(!t.includes(e))return Promise.reject();Promise.resolve()})}upgrade(e,t,s){return this.upgrades[`${parseInt(e.replace(/\./g,""))}::${parseInt(t.replace(/\./g,""))}`]=s,Promise.resolve()}_upgrade(e,t){e.length>0?this.upgrades[e[0]].call(this,this).then(()=>{this._upgrade(e.slice(1),t)}).catch(e=>console.error(e)):t()}rename(e){return this.name!==e?this.keys().then(t=>{const s=this.id;this.name=e,""!==this.name&&""!==this.version&&""!==this.store?this.id=`${this.name}::${this.store}::${this.version}_`:""!==this.name&&""!==this.version?this.id=`${this.name}::${this.version}_`:""!==this.name?this.id=`${this.name}::_`:this.id="";const i=[];for(const e of t)i.push(this.set(e,this.storage.getItem(`${s}${e}`)).then(()=>{this.storage.removeItem(`${s}${e}`)}));return Promise.all(i)}):Promise.reject()}key(e,t=!1){return this.open().then(()=>!0===t?Promise.resolve(this.storage.key(e)):Promise.resolve(this.storage.key(e).replace(this.id,"")))}keys(e=!1){return this.open().then(()=>Promise.resolve(Object.keys(this.storage).filter(e=>0===e.indexOf(this.id)).map(t=>!0===e?t:t.replace(this.id,""))))}remove(e){return this.get(e).then(t=>(this.storage.removeItem(this.id+e),Promise.resolve(t)))}clear(){return this.keys().then(e=>{for(const t of e)this.remove(t);return Promise.resolve()})}}exports.LocalStorage=e;
},{}],"gTWm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionStorage=void 0;var e=require("./LocalStorage");class o extends e.LocalStorage{constructor({name:e="",version:o="",store:s=""}){super({name:e,version:o,store:s})}open(){return void 0===this.storage&&(this.storage=window.sessionStorage),Promise.resolve(this)}}exports.SessionStorage=o;
},{"./LocalStorage":"zbmM"}],"Yi2Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedDB=void 0;class e{constructor({name:e="",version:t="",store:s="",props:r={},index:n={}}){this.name=e,this.version=t,this.store=s,this.props=r,this.index=n,this.upgrades={},""===this.version?this.numericVersion=0:this.numericVersion=parseInt(t.replace(/\./g,""))}open(){return""===this.name?(console.error("No name has been defined for IndexedDB space."),Promise.reject()):""===this.store?(console.error("No store has been defined for IndexedDB space."),Promise.reject()):this.storage instanceof IDBDatabase?Promise.resolve(this):this.storage instanceof Promise?this.storage:(this.storage=new Promise((e,t)=>{let s=[];const r=window.indexedDB.open(this.name,this.numericVersion);r.onerror=(e=>{t(e)}),r.onsuccess=(t=>{e({storage:t.target.result,upgrades:s})}),r.onupgradeneeded=(t=>{if(t.oldVersion<1){const e=t.target.result.createObjectStore(this.store,this.props);for(const t of Object.keys(this.index))e.createIndex(this.index[t].name,this.index[t].field,this.index[t].props)}else{const e=Object.keys(this.upgrades).sort(),r=e.findIndex(e=>{const[s]=e.split("::");return parseInt(s)===t.oldVersion});r>-1&&(s=e.slice(r).filter(e=>{const[t,s]=e.split("::");return parseInt(t)<this.numericVersion&&parseInt(s)<=this.numericVersion}))}t.target.transaction.addEventListener("success",()=>{e({storage:t.target.result,upgrades:s})})})}).then(({storage:e,upgrades:t})=>(this.storage=e,new Promise(s=>{this._upgrade(t,()=>s(e),event)}))),this.storage)}set(e=null,t){return this.open().then(()=>new Promise((s,r)=>{const n=this.storage.transaction(this.store,"readwrite").objectStore(this.store);let i;(i=null!==e?n.put(Object.assign({},{id:e},t)):n.add(t)).addEventListener("success",e=>{s({key:e.target.result,value:t})}),i.addEventListener("error",e=>{r(e)})}))}update(e,t){return this.get(e).then(s=>void 0===s?this.set(e,t):new Promise((e,r)=>{const n=this.storage.transaction(this.store,"readwrite").objectStore(this.store).put(Object.assign({},s,t));n.addEventListener("success",s=>{e({key:s.target.result,value:t})}),n.addEventListener("error",e=>{r(e)})}))}get(e){return this.open().then(()=>new Promise((t,s)=>{const r=this.storage.transaction(this.store).objectStore(this.store).get(e);r.addEventListener("success",e=>{t(e.target.result)}),r.addEventListener("error",e=>{s(e)})}))}getAll(){return this.open().then(()=>new Promise((e,t)=>{const s=this.storage.transaction(this.store).objectStore(this.store).getAll();s.addEventListener("success",t=>{e(t.target.result)}),s.addEventListener("error",e=>{t(e)})}))}contains(e){return this.get(e).then(t=>{if(!t.includes(e))return Promise.reject();Promise.resolve()})}upgrade(e,t,s){return this.upgrades[`${parseInt(e.replace(/\./g,""))}::${parseInt(t.replace(/\./g,""))}`]=s,Promise.resolve()}_upgrade(e,t,s){e.length>0?this.upgrades[e[0]].call(this,this,s).then(()=>{this._upgrade(e.slice(1),t,s)}).catch(e=>console.error(e)):t()}rename(){return Promise.reject()}key(){return Promise.reject()}keys(){return this.open().then(()=>new Promise((e,t)=>{const s=this.storage.transaction(this.store,"readwrite").objectStore(this.store).getAllKeys();s.addEventListener("success",t=>{e(t.target.result)},!1),s.addEventListener("error",e=>{t(e)},!1)}))}remove(e){return this.get(e).then(t=>new Promise((s,r)=>{const n=this.storage.transaction(this.store,"readwrite").objectStore(this.store).delete(e);n.addEventListener("success",()=>{s(t)},!1),n.addEventListener("error",e=>{r(e)},!1)}))}clear(){return this.open().then(()=>new Promise((e,t)=>{const s=this.storage.transaction(this.store,"readwrite").objectStore(this.store).clear();s.addEventListener("success",()=>{e()},!1),s.addEventListener("error",e=>{t(e)},!1)}))}}exports.IndexedDB=e;
},{}],"ivV6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoteStorage=void 0;var e=require("./../Request");class t{constructor({name:e="",version:t="",store:s="",endpoint:r="",props:o={}}){this.name=e,this.version=t,this.store=s,this.endpoint=`${r}${s}/`,this.props=o}open(){return void 0===this.storage&&(this.storage=e.Request),Promise.resolve(this)}set(e,t){return this.open().then(()=>this.storage.post(this.endpoint+e,t,this.props))}update(e,t){return this.get(e).then(s=>this.storage.put(this.endpoint+e,Object.assign({},s,t),this.props).then(e=>e.json()))}get(e){return this.open().then(()=>this.storage.json(this.endpoint+e,{},this.props))}getAll(){return this.open().then(()=>this.storage.json(this.endpoint,{},this.props))}contains(e){return this.keys().then(t=>{if(!t.includes(e))return Promise.reject();Promise.resolve()})}upgrade(){return Promise.reject()}rename(){return Promise.reject()}key(){return Promise.reject()}keys(){return this.open().then(()=>this.storage.json(this.endpoint,{keys:!0},this.props))}remove(e){return this.open().then(()=>this.storage.delete(this.endpoint+e,{},this.props).then(t=>Promise.resolve(e,t.json())))}clear(){return this.open().then(()=>this.storage.delete(this.endpoint,{},this.props))}}exports.RemoteStorage=t;
},{"./../Request":"Z6Um"}],"y07N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Space=exports.SpaceAdapter=void 0;var t=require("./SpaceAdapter/LocalStorage"),e=require("./SpaceAdapter/SessionStorage"),r=require("./SpaceAdapter/IndexedDB"),a=require("./SpaceAdapter/RemoteStorage");const s={LocalStorage:t.LocalStorage,SessionStorage:e.SessionStorage,IndexedDB:r.IndexedDB,RemoteStorage:a.RemoteStorage};exports.SpaceAdapter=s;class o{constructor(t=s.LocalStorage,e={}){this._configuration=Object.assign({},{name:"",version:"",store:""},e),this.adapter=new t(this._configuration),this.callbacks={create:[],update:[],delete:[]},this.transformations={}}configuration(t=null){if(null===t)return this._configuration;this._configuration=Object.assign({},this._configuration,t),this.adapter.configuration(t)}open(){return this.adapter.open().then(()=>Promise.resolve(this))}set(t,e){for(const r of Object.keys(this.transformations))"function"==typeof this.transformations[r].set&&(e=this.transformations[r].set.call(null,t,e));return this.adapter.set(t,e).then(({key:t,value:e})=>{for(const r of this.callbacks.create)r.call(null,t,e);return Promise.resolve({key:t,value:e})})}update(t,e){for(const r of Object.keys(this.transformations))"function"==typeof this.transformations[r].set&&(e=this.transformations[r].set.call(null,t,e));return this.adapter.update(t,e).then(({key:t,value:e})=>{for(const r of this.callbacks.update)r.call(null,t,e);return Promise.resolve({key:t,value:e})})}get(t){return this.adapter.get(t).then(e=>{for(const r of Object.keys(this.transformations))"function"==typeof this.transformations[r].get&&(e=this.transformations[r].get.call(null,t,e));return e})}getAll(){return this.adapter.getAll().then(t=>{for(const e of Object.keys(t))for(const r of Object.keys(this.transformations))"function"==typeof this.transformations[r].get&&(t[e]=this.transformations[r].get.call(null,e,t[e]));return t})}each(t){return this.getAll().then(e=>{const r=[];for(const a of Object.keys(e))r.push(t.call(this,a,e[a]));return Promise.all(r)})}contains(t){return this.adapter.contains(t)}upgrade(t,e,r){return this.adapter.upgrade(t,e,r).then(()=>Promise.resolve(this))}rename(t){return this.adapter.rename(t)}onCreate(t){this.callbacks.create.push(t)}onUpdate(t){this.callbacks.update.push(t)}onDelete(t){this.callbacks.delete.push(t)}addTransformation({id:t,get:e,set:r}){this.transformations[t]={id:t,get:e,set:r}}removeTransformation(t){delete this.transformations[t]}key(t,e=!1){return this.adapter.key(t,e)}keys(t=!1){return this.adapter.keys(t)}remove(t){return this.adapter.remove(t).then(e=>{for(const r of this.callbacks.delete)r.call(null,t,e)})}clear(){return this.adapter.clear()}}exports.Space=o;
},{"./SpaceAdapter/LocalStorage":"zbmM","./SpaceAdapter/SessionStorage":"gTWm","./SpaceAdapter/IndexedDB":"Yi2Q","./SpaceAdapter/RemoteStorage":"ivV6"}],"lT4E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Text=void 0;class e{static capitalize(e){return e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}static suffix(e,t){let n="",r=t.indexOf(e);return-1!==r&&(r+=e.length,n=t.substr(r,t.length-r)),n}static selection(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:void 0}static prefix(e,t){let n="";const r=t.indexOf(e);return-1!=r&&(n=t.substr(0,r)),n}static friendly(e){const t=[/[áàâãªä]/,/[ÁÀÂÃÄ]/,/[ÍÌÎÏ]/,/[íìîï]/,/[éèêë]/,/[ÉÈÊË]/,/[óòôõºö]/,/[ÓÒÔÕÖ]/,/[úùûü]/,/[ÚÙÛÜ]/,/ç/,/Ç/,/ñ/,/Ñ/,/_/,/[’‘‹›<>']/,/[“”«»„"]/,/[(){}[\]]/,/[?¿!¡#$%&^*´`~\/°|]/,/[,.:;]/,/ /],n=["a","A","I","i","e","E","o","O","u","U","c","C","n","N","-","","","","","","-"];for(const r in t)e=e.replace(new RegExp(t[r],"g"),n[r]);return e}}exports.Text=e;
},{}],"yzgE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Util=void 0;class t{static callAsync(t,e,...r){try{const s=t.apply(e,r);return s instanceof Promise?s:Promise.resolve(s)}catch(o){return Promise.reject(o)}}static uuid(){if(window.crypto)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16));{const t=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}}exports.Util=t;
},{}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./src/Debug");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./src/DOM");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./src/FileSystem");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./src/Form");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./src/Platform");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./src/Preload");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./src/Request");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./src/Space");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var s=require("./src/Text");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});var a=require("./src/Util");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});
},{"./src/Debug":"vI89","./src/DOM":"W6YR","./src/FileSystem":"vs9F","./src/Form":"A0Mx","./src/Platform":"GRRb","./src/Preload":"JqUE","./src/Request":"Z6Um","./src/Space":"y07N","./src/Text":"lT4E","./src/Util":"yzgE"}]},{},["Focm"], "Artemis")
//# sourceMappingURL=artemis.min.js.map