!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var o,r,i;r=[t],o=function(t){r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_=r,e.$_ready=function(e){window.addEventListener("load",e)};var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof n)this.collection=document.querySelectorAll(n),this.length=this.collection.length;else{if("object"!=(void 0===n?"undefined":t(n)))return null;n.length>=1?this.collection=n:this.collection=[n],this.length=this.collection.length}}return n(e,[{key:"hide",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,r=this.collection[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value;i.style.display="none"}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.style.display=e}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"addClass",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.classList.add(e)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"removeClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.classList.remove(e)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}else{var l=!0,c=!1,u=void 0;try{for(var s,f=this.collection[Symbol.iterator]();!(l=(s=f.next()).done);l=!0)for(var y=s.value;y.classList.length>0;)y.classList.remove(y.classList.item(0))}catch(e){c=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}}},{key:"toggleClass",value:function(e){e=e.split(" ");var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)for(var a=r.value,l=0;l<e.length;l++)a.classList.toggle(e[l])}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"hasClass",value:function(e){if(this.collection[0])for(var t=0;t<this.collection[0].classList.length;t++)if(this.collection[0].classList[t]==e)return!0;return!1}},{key:"value",value:function(e){if(this.length>0){if(void 0===e)return this.collection[0].value;this.collection[0].value=e}}},{key:"focus",value:function(){this.length>0&&this.collection[0].focus()}},{key:"click",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("click",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"keyup",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("keyup",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"keydown",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("keydown",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"submit",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("submit",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"change",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("change",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"scroll",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.addEventListener("scroll",e,!1)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"on",value:function(e,t,n){e=e.split(" ");var o=!0,i=!1,a=void 0;try{for(var l,c=this.collection[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)for(var u=l.value,s=0;s<e.length;s++)"string"==typeof t&&void 0!==n?u.addEventListener(e[s],function(e){e.target&&r(e.target).matches(t)&&n.call(e.target,e)},!1):u.addEventListener(e[s],t,!1)}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}}},{key:"filter",value:function(t){if(this.length>0)return new e(this.collection[0].querySelector(t))}},{key:"data",value:function(e,t){if(this.length>0){if(void 0===t)return this.collection[0].dataset[e];this.collection[0].dataset[e]=t}}},{key:"text",value:function(e){if(this.length>0){if(void 0===e)return this.collection[0].textContent;this.collection[0].textContent=e}}},{key:"html",value:function(e){if(this.length>0){if(void 0===e)return this.collection[0].innerHTML;this.collection[0].innerHTML=e}}},{key:"append",value:function(e){if(this.length>0){var t=document.createElement("div");t.innerHTML=e,this.collection[0].appendChild(t.firstChild)}}},{key:"prepend",value:function(e){if(this.length>0){var t=document.createElement("div");t.innerHTML=e,this.collection[0].childNodes.length>0?this.collection[0].insertBefore(t.firstChild,this.collection[0].childNodes[0]):this.collection[0].appendChild(t.firstChild)}}},{key:"each",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;e(a)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"get",value:function(e){return this.collection[e]}},{key:"first",value:function(){if(this.length>0)return new e(this.collection[0])}},{key:"isVisible",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,r=this.collection[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value;if("none"!=i.display&&i.offsetWidth>0&&i.offsetHeight>0)return!0}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}return!1}},{key:"parent",value:function(){if(this.collection[0])return new e(this.collection[0].parentElement)}},{key:"find",value:function(t){if(this.collection[0])return new e(this.collection[0].querySelectorAll(t))}},{key:"offset",value:function(){if(this.collection[0]){var e=this.collection[0].getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}}},{key:"closest",value:function(e){for(var t=this.find(e);void 0===t.get(0)&&void 0!==this.parent().get(0);)t=this.parent().find(e);return t}},{key:"attribute",value:function(e,t){if(this.collection[0]){if(void 0!==t)return this.collection[0].setAttribute(e,t);this.collection[0].getAttribute(e)}}},{key:"after",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.insertAdjacentHTML("afterend",e)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"before",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.collection[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.insertAdjacentHTML("beforebegin",e)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"style",value:function(e,n){for(var o=0;o<this.collection.length;o++)if("string"==typeof e&&"undefined"!==n)this.collection[o].style[e]=n;else{if("string"==typeof e&&"undefined"===n)return this.collection[o].style[e];if("object"===(void 0===e?"undefined":t(e)))for(var r in e)this.collection[o].style[r]=e[r]}}},{key:"animate",value:function(e,t){for(var n=this,o=function(o){var r=function(r){var i=(new Date).getTime(),a=n.collection,l=void 0,c=void 0;void 0!==n.collection[o].style[r]?(c=n.collection[o].style[r],l=setInterval(function(){var n=Math.min(1,((new Date).getTime()-i)/t);a[o].style[r]=c+n*(e[r]-c),1==n&&clearInterval(l)},25),n.collection[o].style[r]=c):void 0!==n.collection[o][r]&&(c=n.collection[o][r],l=setInterval(function(){var n=Math.min(1,((new Date).getTime()-i)/t);a[o][r]=c+n*(e[r]-c),1==n&&clearInterval(l)},25),n.collection[o][r]=c)};for(var i in e)r(i)},r=0;r<this.collection.length;r++)o(r)}},{key:"fadeIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,t=arguments[1];if(this.collection[0]){var n=this.collection[0];n.style.opacity=0;var o=+new Date;!function r(){n.style.opacity=+n.style.opacity+(new Date-o)/e,o=+new Date,+n.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof t&&t()}()}}},{key:"fadeOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,t=arguments[1];if(this.collection[0]){var n=+new Date,o=this.collection[0];!function r(){o.style.opacity=+o.style.opacity-(new Date-n)/e,n=+new Date,+o.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof t&&t()}()}}},{key:"matches",value:function(e){var t=Element.prototype,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(){return-1!==[].indexOf.call(document.querySelectorAll(e),this)};return n.call(this.collection[0],e)}},{key:"remove",value:function(){for(var e=0;e<this.collection.length;e++)this.collection[e].parentNode.removeChild(this.collection[e])}},{key:"replaceWith",value:function(e){var t=document.createElement("div");t.innerHTML=e,this.collection[0].parentElement.replaceChild(t,this.collection[0])}},{key:"reset",value:function(){this.length>0&&this.collection[0].reset()}},{key:"property",value:function(e,t){if(this.collection[0]){if(void 0===t)return this.collection[0][e];this.collection[0][e]=t}}}]),e}();function r(e){return void 0!==e?new o(e):o}e.Artemis=o})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(0)],o=function(t){r=[t,n(0)],void 0===(i="function"==typeof(o=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.Form=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"fill",value:function(e,n){for(var o in n){var r=(0,t.$_)("form[data-form='"+e+"'] [name='"+o+"']").get(0);if(void 0!==r)switch(r.type){case"file":case"file[]":break;default:r.value=n[o]}}}},{key:"values",value:function(e){var n={};return(0,t.$_)("form[data-form='"+e+"'] [name]").each(function(e){var t=void 0;switch(e.type){case"file[]":t=e.files;break;case"file":t=e.files[0];break;default:t=e.value}void 0!==t&&null!==t&&(n[e.name]=t)}),n}}]),e}()})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],o=function(t){r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.Platform=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"retina",value:function(){return window.devicePixelRatio>=2}},{key:"portrait",value:function(){return window.innerHeight>window.innerWidth}},{key:"landscape",value:function(){return 90===window.orientation||-90===window.orientation}},{key:"orientation",value:function(){return e.portrait()?"portrait":"landscape"}},{key:"electron",value:function(){return window&&window.process&&window.process.type}},{key:"cordova",value:function(){return!!window.cordova}},{key:"desktop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Any",t=!1;switch(e){case"Windows":t=navigator.platform.includes("Win");break;case"macOS":t=navigator.platform.includes("Mac");break;case"Linux":t=navigator.platform.includes("Linux");break;case"FreeBSD":t=navigator.platform.includes("FreeBSD");break;case"webOS":t=navigator.platform.includes("WebTV");break;case"Any":default:t=navigator.platform.includes("Win")||navigator.platform.includes("Mac")||navigator.platform.includes("Linux")||navigator.platform.includes("FreeBSD")||navigator.platform.includes("WebTV")}return t}},{key:"mobile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Any",t=!1;switch(e){case"Android":t=/Android/i.test(navigator.userAgent);break;case"iOS":t=/iPhone|iPad|iPod/i.test(navigator.userAgent);break;case"Opera":t=/Opera Mini/i.test(navigator.userAgent);break;case"Windows":t=/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent);break;case"BlackBerry":t=/BlackBerry|BB10/i.test(navigator.userAgent);break;case"Any":default:t=/Android|iPhone|iPad|iPod|Windows Phone|IEMobile|WPDesktop|BlackBerry|BB10/i.test(navigator.userAgent)}return t}}]),e}()})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],o=function(t){r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.Request=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise(function(o,r){var i=[];for(var a in t)i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));var l=new XMLHttpRequest;i.length>0&&(e=e+"?"+i.join("&")),l.open("GET",e,!0),l.responseType=n,l.onload=function(){o(l.response)},l.onerror=function(){r(l)},l.send()})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/x-www-form-urlencoded";return new Promise(function(r,i){var a=void 0,l=new XMLHttpRequest;if(l.open("POST",e,!0),"application/x-www-form-urlencoded"==o){for(var c in a=[],t)a.push(encodeURIComponent(c)+"="+encodeURIComponent(t[c]));a=a.join("&"),l.setRequestHeader("Content-type",o)}else if("multipart/form-data"==o)for(var u in a=new FormData,t)a.append(u,t[u]);l.responseType=n,l.onload=function(){r(l.response)},l.onerror=function(){i(l)},l.send(a)})}},{key:"json",value:function(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.responseType="json",o.onload=function(){t(o.response)},o.onerror=function(){n(o)},o.open("GET",e,!0),o.send()})}}]),e}()})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],o=function(t){r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();(e.Space=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.Type.Local;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.type=o,this.version=n,this.callbacks={},""!==t&&""!==n?(this.numericVersion=parseInt(n.replace(/\./g,"")),this.id=this.name+"::"+this.version+"_"):""!==n?(this.numericVersion=parseInt(n.replace(/\./g,"")),this.id=this.name+"::"+this.version+"_"):o!=e.Type.Local&&o!=e.Type.Session||(this.numericVersion=0,this.id="")}return n(e,[{key:"open",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return void 0!==this.storage?Promise.resolve(this):this.type===e.Type.Local?(this.storage=window.localStorage,Promise.resolve(this)):this.type===e.Type.Session?(this.storage=window.sessionSpace,Promise.resolve(this)):this.type===e.Type.IndexedDB?new Promise(function(e,o){t.storage=window.indexedDB.open(t.name,t.numericVersion),t.storage.onerror=function(e){o(e)},t.storage.onsuccess=function(n){t.storage=n.target.result,e(t)},t.storage.onupgradeneeded=function(o){t.storage=o.target.result,n(t.storage).then(function(){e(t)})}}):void 0}},{key:"set",value:function(n,o){var r=this;return this.open().then(function(){return r.type!==e.Type.Local&&r.type!==e.Type.Session||("object"===(void 0===o?"undefined":t(o))?r.storage.setItem(r.id+n,JSON.stringify(o)):r.storage.setItem(r.id+n,o)),void 0!==r.callbacks.onStore&&r.callbacks.onStore.call(null,n,o),Promise.resolve(o)})}},{key:"get",value:function(n){var o=this;return this.open().then(function(){return new Promise(function(r){var i=void 0;switch(o.type){case e.Type.Local:case e.Type.Session:i=o.storage.getItem(o.id+n);try{var a=JSON.parse(i);a&&"object"===(void 0===a?"undefined":t(a))&&(i=a)}catch(e){}break;case e.Type.IndexedDB:}r(i)})})}},{key:"upgrade",value:function(n,o,r){var i=this;return this.open().then(function(){if(i.type===e.Type.Local||i.type===e.Type.Session){var o=Object.keys(i.storage).filter(function(e){return 0===e.indexOf(i.name+"::"+n+"_")}).map(function(e){return e.replace(i.name+"::"+n+"_","")}),a=[],l=function(e){var o=i.storage.getItem(i.name+"::"+n+"_"+e);try{var l=JSON.parse(o);l&&"object"===(void 0===l?"undefined":t(l))&&(o=l)}catch(e){}a.push(r.call(null,e,o).then(function(t){i.set(e,t).then(function(){i.storage.removeItem(i.name+"::"+n+"_"+e)})}))},c=!0,u=!1,s=void 0;try{for(var f,y=o[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var v=f.value;l(v)}}catch(e){u=!0,s=e}finally{try{!c&&y.return&&y.return()}finally{if(u)throw s}}return Promise.all(a)}return Promise.reject()})}},{key:"rename",value:function(t){var n=this;return this.open().then(function(){return n.name===t||n.type!==e.Type.Local&&n.type!==e.Type.Session?Promise.reject():n.keys().then(function(e){var o=n.id;n.name=t,n.id=n.name+"::"+n.version+"_";var r=[],i=function(e){r.push(n.set(e,n.storage.getItem(""+o+e)).then(function(){n.storage.removeItem(""+o+e)}))},a=!0,l=!1,c=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var f=u.value;i(f)}}catch(e){l=!0,c=e}finally{try{!a&&s.return&&s.return()}finally{if(l)throw c}}return Promise.all(r)})})}},{key:"onStore",value:function(e){this.callbacks.onStore=e}},{key:"onDelete",value:function(e){this.callbacks.onDelete=e}},{key:"key",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.open().then(function(){return n.type===e.Type.Local||n.type===e.Type.Session?!0===o?Promise.resolve(n.storage.key(t)):Promise.resolve(n.storage.key(t).replace(n.id,"")):Promise.reject()})}},{key:"keys",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.open().then(function(){return t.type===e.Type.Local||t.type===e.Type.Session?Promise.resolve(Object.keys(t.storage).filter(function(e){return 0===e.indexOf(t.id)}).map(function(e){return!0===n?e:e.replace(t.id,"")})):Promise.reject()})}},{key:"remove",value:function(t){var n=this;return this.open().then(function(){if(n.type===e.Type.Local||n.type===e.Type.Session)return n.get(t).then(function(e){return n.storage.removeItem(n.id+t),void 0!==n.callbacks.onDelete&&n.callbacks.onDelete.call(null,t,e),Promise.resolve(t,e)});Promise.reject()})}},{key:"clear",value:function(){var t=this;return this.open().then(function(){if(t.type===e.Type.Local||t.type===e.Type.Session)return t.keys().then(function(e){var n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;t.remove(l)}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return Promise.resolve()});Promise.reject()})}}]),e}()).Type={Local:1,Session:2,Indexed:3}})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],o=function(t){r=[t],void 0===(i="function"==typeof(o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.Text=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"capitalize",value:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},{key:"suffix",value:function(e,t){var n="",o=t.indexOf(e);return-1!==o&&(o+=e.length,n=t.substr(o,t.length-o)),n}},{key:"prefix",value:function(e,t){var n="",o=t.indexOf(e);return-1!=o&&(n=t.substr(0,o)),n}},{key:"friendly",value:function(e){var t={"[áàâãªä]":"a","[ÁÀÂÃÄ]":"A","[ÍÌÎÏ]":"I","[íìîï]":"i","[éèêë]":"e","[ÉÈÊË]":"E","[óòôõºö]":"o","[ÓÒÔÕÖ]":"O","[úùûü]":"u","[ÚÙÛÜ]":"U","ç":"c","Ç":"C","ñ":"n","Ñ":"N",_:"-","[’‘‹›<>']":"",'[“”«»„"]':"","[(){}[]]":"","[?¿!¡#$%&^*´`~/°|]":"","[,.:;]":""," ":"-"};for(var n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e}}]),e}()})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(0),n(1),n(2),n(3),n(4),n(5)],o=function(t){r=[t,n(0),n(1),n(2),n(3),n(4),n(5)],void 0===(i="function"==typeof(o=function(e,t,n,o,r,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})})?o.apply(t,r):o)||(e.exports=i)},void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i)}])});
//# sourceMappingURL=artemis.min.js.map